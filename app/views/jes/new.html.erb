<h1>Create a Journal Entry</h1>

<%= form_for(@je) do |f| %>
                

<%= render 'shared/error_messages', :object => f.object %>
<table border=1>    
<tr>
 <td colspan=2>   
<div class="field">
  <%= f.label "Amount (in Pennies)" %><br />
  <%= f.text_field :amount %>
</div>
</td>
</tr>                
	<tr>
		<td>
<%= f.label "Credit" %><br />
   <% names = Account.select(:name).collect { |n| n.name } %>
   <% accts = [] %>
   <%# names.sort.each { |n| a = Account.find_by_name(n) 
				       accts.push([ a.name.titleize, a.id ])  }   %>      
<div class="field">
  <%= f.select :credit,  names.sort.collect { |n| a = Account.find_by_name(n) 
				                              [  a.name.titleize + " " + "."*(20-a.name.length) + " (#{a.atype.titleize})", a.id ]  }



  %> 
</td><td>
<%= f.label "Debit" %><br />
   <% names = Account.select(:name).collect { |n| n.name } %>
   <% accts = [] %>
   <%# names.sort.each { |n| a = Account.find_by_name(n) 
				       accts.push([ a.name.titleize, a.id ])  }   %>      
<div class="field">
  <%= f.select :debit,  names.sort.collect { |n| a = Account.find_by_name(n) 
				                              [  a.name.titleize + " " + "."*(20-a.name.length) + " (#{a.atype.titleize})", a.id ]  }



  %>
</td></tr> 
<tr><td>   
	<div class="demo">

	<p>Date: <input type="text" id="datepicker"></p>

	</div><!-- End demo -->

	<script>
	$(function() {
		$( "#datepicker" ).datepicker();
	});
	</script>

	<div class="demo-description">
	<p>The datepicker is tied to a standard form input field.  Focus on the input (click, or use the tab key) to open an interactive calendar in a small overlay.  Choose a date, click elsewhere on the page (blur the input), or hit the Esc key to close. If a date is chosen, feedback is shown as the input's value.</p>
	</div><!-- End demo-description -->
	 
</td></tr> 
<tr><td>
  <div class="actions">
    <%= f.submit "Create It!" %>
  </div>  
</tr></td>   
</table>
</div>

 
<% end %>
